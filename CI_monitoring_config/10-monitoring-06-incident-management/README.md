# Домашнее задание к занятию 17 «Инцидент-менеджмент»

## Основная часть

Составьте постмортем на основе реального сбоя системы GitHub в 2018 году.

Информация о сбое: 

* [в виде краткой выжимки на русском языке](https://habr.com/ru/post/427301/);
* [развёрнуто на английском языке](https://github.blog/2018-10-30-oct21-post-incident-analysis/).


---


## Postmortem

**Date:** 2018-10-21

**Authors:** Николай Чайковский

**Status:** Завершен

|  |   |
| ------- | -------|
| **Краткое описание инцидента**   |На нескольких сервисах GitHub.com пострадали несколько сетевых разделов с последующим сбоем базы данных, что привело к появлению непоследовательной информации на веб-сайте. В качестве предосторожности предприняты шаги для обеспечения целостности  данных, включая приостановку работы событий (hooks) и других внутренних систем обработки.    |
| **Предшествующие события**  | В 22:52 UTC 21 октября 2018 года плановые работы по техническому обслуживанию для замены вышедшего из строя оптического оборудования 100G привели к потере связи между сетевым узлом на Восточном побережье США и основным центром обработки данных на Восточном побережье США.|
| **Причина инцидента**   | Связь между этими местоположениями была восстановлена за 43 секунды, но это кратковременное отключение вызвало цепочку событий, которые привели к  ухудшения качества обслуживания.    |
| **Воздействие**  | Затронуты несколько внутренних систем, что привело к отображению  устаревшей и непоследовательной информации. В конечном счете, никакие пользовательские данные не были потеряны; однако ручное согласование в течение нескольких секунд записи в базу данных продолжалось длительное время. В большинстве случаев GitHub также не мог обслуживать события webhook или создавать и публиковать сайты GitHub Pages.   |
| **Обнаружение**  | Инцидент обнаружен инженерами команды быстрого реагирования,  координатором инцидента, затем привлечены инженеры из команды разработчиков баз данных GitHub.    |
|**Реакция**       | Работы завершены через 24 часа 11 минут с момента выявления инцидента.    |
|**Восстановление** |  Процесс  восстановления работоспособности заключался в восстановлении данных из резервных копий, синхронизацииь реплик на обоих сайтах, возвращении к стабильной топологии обслуживания, а затем возобновлении обработки заданий, поставленных в очередь.   |
|**Таймлайн**     | **21 октября 2018 22:54 UTC**  - внутренние системы мониторинга начали генерировать предупреждения, указывающие на многочисленные сбои. **23:02 UTC** -  инженеры из команды быстрого реагирования определили нарушение топологии кластеров баз данных. **23:09 UTC** -  команда реагирования присвоила инциденту желтый статус.  **23:11 UTC** - координатор инцидента изменил состояние на красный статус.  **23:13 UTC** - вызваны дополнительные инженеры из команды разработчиков баз данных GitHub. **23:19 UTC** - намеренно приостановлена доставка webhook и сборка GitHub Pages. **22 октября 2018 00:05 UTC** - разработан План устранения несоответствий данных и внедрения процедуры отработки отказа для MySQL. **00:41 UTC** - запущен процесс резервного копирования для всех затронутых кластеров MySQL.  **11:12 UTC** - все primeries БД восстановлены.  **16:24 UTC** - все реплики синхронизированы,  выполнен переход на исходную топологию. **16:45 UTC** - начат этап восстановления, приняты меры по балансировке возросшей нагрузки. **22 октября 2018 23:03 UTC** - все ожидающие сборки веб-ссылок и страниц были обработаны, и целостность и надлежащая работа всех систем были подтверждены. Статус сайта был обновлен до зеленого.
|**Последующие действия** | Устранение несоответствий в данных. Разработка технических и организационных инициатив.|

______________________
